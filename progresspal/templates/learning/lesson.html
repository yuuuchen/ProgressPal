{% extends 'base.html' %}
{% block title %}課程列表{% endblock %}
{% block content %}
<div class="container-fluid px-4 py-3">
    <h2 class="text-center mb-4">課程列表</h2>
    <div class="accordion" id="chapterAccordion">
        {% for chapter in chapters %}
        <div class="accordion-item">
            <h2 class="accordion-header" id="heading{{ chapter.id }}">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapse{{ chapter.id }}" aria-expanded="false"
                        aria-controls="collapse{{ chapter.id }}">
                    {{ chapter.chapter_number }}. {{ chapter.title }}
                </button>
            </h2>
            <div id="collapse{{ chapter.id }}" class="accordion-collapse collapse"
                 aria-labelledby="heading{{ chapter.id }}" data-bs-parent="#chapterAccordion">
                <div class="accordion-body">
                    {% if chapter.get_units %}
                    <ul class="list-group list-group-flush">
                        {% for unit in chapter.get_units %}
                        <li class="list-group-item">
                            <a href="{% url 'learning' chapter.chapter_number unit.unit_number %}" 
                            class="text-decoration-none">
                                <strong>{{ unit.unit_number }}</strong> — {{ unit.title }}
                            </a>
                        </li>
                    {% endfor %} 
                </ul>
                    {% else %}
                        <p class="text-muted mb-0">此章節目前沒有單元。</p>
                    {% endif %}
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
{% block scripts %}
{% endblock %}